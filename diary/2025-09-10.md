# 2025-09-10

- mp版本问题: 在执行批量更新操作时, 3条更新语句, 出现首条语句永远不更新的问题, 后续开启mybatis详细日志得出首条语句加了explain关键字, 因而直接被跳过了, 这是由于`SqlExplainInterceptor`拦截器 

### EXIST 和 IN 的区别
- IN
	- 子查询得到一个结果集
	- 再将主查询字段逐一与子查询结果集进行比对
	- 子查询结果集大时，性能可能下降
- EXIST
	- 主查询每取一行，就放入子查询验证。
	- 子查询只要返回一条数据即判定为 `TRUE`，无需继续扫描。
	- 适合子查询结果集大、但匹配条件较容易命中的场景。

- 减少主观认为, 以结果为主
- 小表驱动大表速度快的前提是：两个表上根据主/外键建立了索引，这样在根据某一条数据查找B+树时，速度就会大大提高，若没有建立索引，则两个表无论谁当作主表，查找数据的次数都是一样的

- 在设计表结构和写sql之前, 先稍微根据已学知识, 再去设计情况, explain查看执行结果, 询问AI可行性对比结果, 得到合适的SQL, 去实际执行对比后得到的结果, 即时效率不是最好的, 但也不会太差, 杜绝一顿梭哈没有尝试的情况，能减少很多后期返工或者修改bug的时间